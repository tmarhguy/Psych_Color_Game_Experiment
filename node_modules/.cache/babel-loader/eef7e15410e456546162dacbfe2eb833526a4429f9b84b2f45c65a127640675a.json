{"ast":null,"code":"var _jsxFileName = \"/Users/tyronemarhguy/Desktop/Color-Comm-Game-Psych-Experiment/src/components/TimerDisplay/TimerDisplay.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from \"react\";\nimport \"./TimerDisplay.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function TimerDisplay({\n  initialTime = 10,\n  onTimerEnd\n}) {\n  _s();\n  const [timer, setTimer] = useState(initialTime);\n  const canvasRef = useRef(null);\n  useEffect(() => {\n    if (timer > 0) {\n      const interval = setInterval(() => setTimer(t => t - 1), 1000);\n      return () => clearInterval(interval);\n    } else if (onTimerEnd) {\n      onTimerEnd();\n    }\n  }, [timer, onTimerEnd]);\n\n  // Draw the circular countdown ring\n  useEffect(() => {\n    const canvas = canvasRef.current;\n    if (!canvas) return;\n    const ctx = canvas.getContext(\"2d\");\n\n    // Set up high-DPI scaling for the canvas\n    const scale = window.devicePixelRatio || 1;\n    const width = canvas.offsetWidth * scale;\n    const height = canvas.offsetHeight * scale;\n    canvas.width = width;\n    canvas.height = height;\n    ctx.scale(scale, scale);\n    const centerX = canvas.offsetWidth / 2;\n    const centerY = canvas.offsetHeight / 2;\n    const radius = Math.min(centerX, centerY) * 0.85;\n    const lineWidth = radius * 0.18;\n    const timeRatio = timer / initialTime;\n    ctx.clearRect(0, 0, canvas.offsetWidth, canvas.offsetHeight);\n\n    // Draw background ring (light gray)\n    ctx.beginPath();\n    ctx.arc(centerX, centerY, radius, 0, 2 * Math.PI);\n    ctx.lineWidth = lineWidth;\n    ctx.strokeStyle = \"#e0e0e0\";\n    ctx.stroke();\n\n    // Color logic: green → yellow → red\n    let color;\n    if (timeRatio > 0.6) color = \"#00CC00\";else if (timeRatio > 0.3) color = \"#FFCC00\";else color = \"#FF3333\";\n\n    // Draw the countdown arc (clockwise)\n    if (timeRatio > 0) {\n      const startAngle = -Math.PI / 2;\n      const endAngle = startAngle + 2 * Math.PI * timeRatio;\n      ctx.beginPath();\n      ctx.arc(centerX, centerY, radius, startAngle, endAngle, false);\n      ctx.lineWidth = lineWidth;\n      ctx.strokeStyle = color;\n      ctx.lineCap = \"round\";\n      ctx.stroke();\n    }\n\n    // Draw timer text in the center\n    ctx.fillStyle = timer <= 3 ? \"#ff3333\" : \"#333333\";\n    ctx.font = `bold ${Math.floor(radius * 0.5)}px Arial`; // Dynamically scale font size\n    ctx.textAlign = \"center\";\n    ctx.textBaseline = \"middle\";\n    ctx.fillText(timer > 0 ? timer : \"0\", centerX, centerY);\n  }, [timer, initialTime]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"timer-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"canvas\", {\n      ref: canvasRef\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"timer-content\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"timer-label\",\n        children: timer > 0 ? \"seconds remaining\" : \"Time's up!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 73,\n    columnNumber: 5\n  }, this);\n}\n_s(TimerDisplay, \"M5nXa0OLXj6/ibXFRmAyKPKgueM=\");\n_c = TimerDisplay;\nvar _c;\n$RefreshReg$(_c, \"TimerDisplay\");","map":{"version":3,"names":["React","useEffect","useRef","useState","jsxDEV","_jsxDEV","TimerDisplay","initialTime","onTimerEnd","_s","timer","setTimer","canvasRef","interval","setInterval","t","clearInterval","canvas","current","ctx","getContext","scale","window","devicePixelRatio","width","offsetWidth","height","offsetHeight","centerX","centerY","radius","Math","min","lineWidth","timeRatio","clearRect","beginPath","arc","PI","strokeStyle","stroke","color","startAngle","endAngle","lineCap","fillStyle","font","floor","textAlign","textBaseline","fillText","className","children","ref","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/tyronemarhguy/Desktop/Color-Comm-Game-Psych-Experiment/src/components/TimerDisplay/TimerDisplay.jsx"],"sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\nimport \"./TimerDisplay.css\";\n\nexport default function TimerDisplay({ initialTime = 10, onTimerEnd }) {\n  const [timer, setTimer] = useState(initialTime);\n  const canvasRef = useRef(null);\n\n  useEffect(() => {\n    if (timer > 0) {\n      const interval = setInterval(() => setTimer((t) => t - 1), 1000);\n      return () => clearInterval(interval);\n    } else if (onTimerEnd) {\n      onTimerEnd();\n    }\n  }, [timer, onTimerEnd]);\n\n  // Draw the circular countdown ring\n  useEffect(() => {\n    const canvas = canvasRef.current;\n    if (!canvas) return;\n    const ctx = canvas.getContext(\"2d\");\n\n    // Set up high-DPI scaling for the canvas\n    const scale = window.devicePixelRatio || 1;\n    const width = canvas.offsetWidth * scale;\n    const height = canvas.offsetHeight * scale;\n    canvas.width = width;\n    canvas.height = height;\n    ctx.scale(scale, scale);\n\n    const centerX = canvas.offsetWidth / 2;\n    const centerY = canvas.offsetHeight / 2;\n    const radius = Math.min(centerX, centerY) * 0.85;\n    const lineWidth = radius * 0.18;\n    const timeRatio = timer / initialTime;\n\n    ctx.clearRect(0, 0, canvas.offsetWidth, canvas.offsetHeight);\n\n    // Draw background ring (light gray)\n    ctx.beginPath();\n    ctx.arc(centerX, centerY, radius, 0, 2 * Math.PI);\n    ctx.lineWidth = lineWidth;\n    ctx.strokeStyle = \"#e0e0e0\";\n    ctx.stroke();\n\n    // Color logic: green → yellow → red\n    let color;\n    if (timeRatio > 0.6) color = \"#00CC00\";\n    else if (timeRatio > 0.3) color = \"#FFCC00\";\n    else color = \"#FF3333\";\n\n    // Draw the countdown arc (clockwise)\n    if (timeRatio > 0) {\n      const startAngle = -Math.PI / 2;\n      const endAngle = startAngle + 2 * Math.PI * timeRatio;\n      ctx.beginPath();\n      ctx.arc(centerX, centerY, radius, startAngle, endAngle, false);\n      ctx.lineWidth = lineWidth;\n      ctx.strokeStyle = color;\n      ctx.lineCap = \"round\";\n      ctx.stroke();\n    }\n\n    // Draw timer text in the center\n    ctx.fillStyle = timer <= 3 ? \"#ff3333\" : \"#333333\";\n    ctx.font = `bold ${Math.floor(radius * 0.5)}px Arial`; // Dynamically scale font size\n    ctx.textAlign = \"center\";\n    ctx.textBaseline = \"middle\";\n    ctx.fillText(timer > 0 ? timer : \"0\", centerX, centerY);\n  }, [timer, initialTime]);\n\n  return (\n    <div className=\"timer-container\">\n      <canvas ref={canvasRef} />\n      {/* Timer text label below the canvas */}\n      <div className=\"timer-content\">\n        <div className=\"timer-label\">\n          {timer > 0 ? \"seconds remaining\" : \"Time's up!\"}\n        </div>\n      </div>\n    </div>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}